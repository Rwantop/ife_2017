<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>task0001</title>
</head>
<style type="text/css">
	#submit {
		margin-left: 10px;
	}
	.hint {
		color: #F70938;
		display: none;
	}

</style>
<body>
	名称:<input type="text" id="name" name="name"/><button id="submit">验证</button>
	<div class="hint"></div>

</body>
<script type="text/javascript">
(function (){
	var hint = document.getElementsByClassName("hint")[0];
	function validate_name(name){
		hint.style.display = "block";
		var count = getLength(name);
		if ("" == name || null == name){
			hint.style.color = "#F70938";
			hint.innerText = "名字不能为空";
		}else if (!(4<=count && count<=16)){
			hint.style.color = "#F70938";
			hint.innerText = "字数在4--16之间";
		}else {
			hint.style.color = "#11FF41";
			hint.innerText = "名称格式正确";
		}
	}

	function getLength(str) {
	    var len = str.length;
	    var reLen = 0;
	    for (var i = 0; i < len; i++) {        
	        if (str.charCodeAt(i) < 27 || str.charCodeAt(i) > 126) {
	            // 全角    
	            reLen += 2;
	        } else {
	            reLen++;
	        }
    }
    return reLen;    
}

	document.getElementById("submit").addEventListener("click",function(){
		var name = document.getElementById("name").value;
		validate_name(name);
	});
})();

</script>

</html>